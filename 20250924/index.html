<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>부산 미세먼지 실시간 정보 - 환경데이터 포털</title>
    
    <!-- 폰트 및 아이콘 -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- 커스텀 CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- 헤더 섹션 -->
        <div class="header">
            <h1>
                <i class="fas fa-map-marked-alt"></i>
                부산 미세먼지 실시간 정보
            </h1>
            <p>부산광역시 구·군별 미세먼지(PM10) 농도를 실시간으로 확인하세요.</p>
        </div>

        <div class="api-info">
            <h2><i class="fas fa-search"></i> 미세먼지 정보 조회</h2>
            <form id="searchForm" class="api-form">
                <input type="hidden" id="serviceKey" value="32bd0d1f6f6e380b10d283f8afc10aec7a8b41b8fed6395b3307d84e28f85b0c">
                <div class="form-group">
                    <label for="district">구·군 선택</label>
                    <select id="district">
                        <option value="">전체 지역</option>
                        <option value="중구">중구</option>
                        <option value="서구">서구</option>
                        <option value="동구">동구</option>
                        <option value="영도구">영도구</option>
                        <option value="부산진구">부산진구</option>
                        <option value="동래구">동래구</option>
                        <option value="남구">남구</option>
                        <option value="북구">북구</option>
                        <option value="해운대구">해운대구</option>
                        <option value="사하구">사하구</option>
                        <option value="금정구">금정구</option>
                        <option value="강서구">강서구</option>
                        <option value="연제구">연제구</option>
                        <option value="수영구">수영구</option>
                        <option value="사상구">사상구</option>
                        <option value="기장군">기장군</option>
                    </select>
                </div>
            </form>
            <button type="button" id="searchBtn" class="btn">
                <i class="fas fa-sync-alt"></i>
                데이터 새로고침
            </button>
        </div>

        <!-- 로딩 -->
        <div id="loading" class="loading">
            <i class="fas fa-spinner fa-spin fa-2x"></i>
            <p>데이터를 불러오는 중입니다...</p>
        </div>

        <!-- 데이터 표시 영역 -->
        <div id="dataContainer" class="data-container">
            <h2><i class="fas fa-chart-line"></i> 부산 미세먼지 현황</h2>
            
            <!-- 부산 지도 스타일 현황 -->
            <div class="busan-map-container">
                <h3>구·군별 미세먼지 농도</h3>
                <div class="map-grid">
                    <div class="district-card" data-district="기장군">
                        <div class="district-name">기장군</div>
                        <div class="dust-level good" id="gijang">18</div>
                    </div>
                    <div class="district-card" data-district="금정구">
                        <div class="district-name">금정구</div>
                        <div class="dust-level good" id="geumjeong">14</div>
                    </div>
                    <div class="district-card" data-district="동래구">
                        <div class="district-name">동래구</div>
                        <div class="dust-level good" id="dongnae">10</div>
                    </div>
                    <div class="district-card" data-district="연제구">
                        <div class="district-name">연제구</div>
                        <div class="dust-level good" id="yeonje">23</div>
                    </div>
                    <div class="district-card" data-district="해운대구">
                        <div class="district-name">해운대구</div>
                        <div class="dust-level good" id="haeundae">18</div>
                    </div>
                    <div class="district-card" data-district="수영구">
                        <div class="district-name">수영구</div>
                        <div class="dust-level good" id="suyeong">24</div>
                    </div>
                    <div class="district-card" data-district="북구">
                        <div class="district-name">북구</div>
                        <div class="dust-level good" id="buk">24</div>
                    </div>
                    <div class="district-card" data-district="부산진구">
                        <div class="district-name">부산진구</div>
                        <div class="dust-level good" id="busanjin">29</div>
                    </div>
                    <div class="district-card" data-district="동구">
                        <div class="district-name">동구</div>
                        <div class="dust-level good" id="dong">37</div>
                    </div>
                    <div class="district-card" data-district="남구">
                        <div class="district-name">남구</div>
                        <div class="dust-level good" id="nam">28</div>
                    </div>
                    <div class="district-card" data-district="사상구">
                        <div class="district-name">사상구</div>
                        <div class="dust-level good" id="sasang">42</div>
                    </div>
                    <div class="district-card" data-district="강서구">
                        <div class="district-name">강서구</div>
                        <div class="dust-level good" id="gangseo">21</div>
                    </div>
                    <div class="district-card" data-district="서구">
                        <div class="district-name">서구</div>
                        <div class="dust-level good" id="seo">27</div>
                    </div>
                    <div class="district-card" data-district="중구">
                        <div class="district-name">중구</div>
                        <div class="dust-level good" id="jung">28</div>
                    </div>
                    <div class="district-card" data-district="영도구">
                        <div class="district-name">영도구</div>
                        <div class="dust-level good" id="yeongdo">27</div>
                    </div>
                    <div class="district-card" data-district="사하구">
                        <div class="district-name">사하구</div>
                        <div class="dust-level good" id="saha">37</div>
                    </div>
                </div>
                <div class="map-legend">
                    <div class="legend-item">
                        <span class="legend-color good"></span>
                        <span>좋음 (0~30)</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color moderate"></span>
                        <span>보통 (31~80)</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color bad"></span>
                        <span>나쁨 (81~150)</span>
                    </div>
                    <div class="legend-item">
                        <span class="legend-color very-bad"></span>
                        <span>매우나쁨 (151~)</span>
                    </div>
                    <div class="unit-info">단위: ㎍/m³ (1시간평균)</div>
                </div>
            </div>
            
            <!-- 통계 카드 -->
            <div class="data-stats">
                <div class="stat-card">
                    <h3 id="totalMeasurements">-</h3>
                    <p>총 측정 데이터</p>
                </div>
                <div class="stat-card">
                    <h3 id="avgDustLevel">-</h3>
                    <p>평균 PM10 농도(㎍/㎥)</p>
                </div>
                <div class="stat-card">
                    <h3 id="maxDustLevel">-</h3>
                    <p>최고 농도</p>
                </div>
                <div class="stat-card">
                    <h3 id="dangerousRoads">-</h3>
                    <p>나쁨 이상 지역</p>
                </div>
            </div>

            <!-- 상세 데이터 테이블 -->
            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>측정시간</th>
                            <th>구·군</th>
                            <th>측정소</th>
                            <th>날씨/온도</th>
                            <th>습도/풍속</th>
                            <th>미세먼지 농도</th>
                            <th>대기질</th>
                        </tr>
                    </thead>
                    <tbody id="dataTableBody">
                        <!-- 데이터가 여기에 표시됩니다 -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- 정보 섹션 -->
        <div class="info-section">
            <h3><i class="fas fa-info-circle"></i> 미세먼지란?</h3>
            <div class="info-grid">
                <div class="info-card">
                    <h4>미세먼지(PM10)</h4>
                    <p>입자 크기가 10㎛ 이하인 먼지로, 눈에 보이지 않을 정도로 작아 폐포까지 깊숙이 침투하여 각종 호흡기 질환의 원인이 됩니다.</p>
                </div>
                <div class="info-card">
                    <h4>초미세먼지(PM2.5)</h4>
                    <p>입자 크기가 2.5㎛ 이하로 미세먼지보다 더 작아 혈관을 통해 전신에 영향을 미칠 수 있는 더욱 위험한 대기오염물질입니다.</p>
                </div>
                <div class="info-card">
                    <h4>건강 영향</h4>
                    <p>천식, 폐질환, 심혈관계 질환을 유발할 수 있으며, 특히 어린이, 노인, 임산부는 더욱 주의가 필요합니다.</p>
                </div>
                <div class="info-card">
                    <h4>예방 방법</h4>
                    <p>외출 시 마스크 착용, 실내 공기청정기 사용, 미세먼지 농도가 높은 날 야외활동 자제 등의 방법으로 예방할 수 있습니다.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 부산 오버레이 -->
    <div class="busan-overlay">
        <img src="busan.png" alt="부산 로고" class="busan-image">
        <div class="busan-text">BUSAN</div>
    </div>

    <!-- JavaScript 파일 연결 -->
    <script src="script.js"></script>
</body>
</html>

